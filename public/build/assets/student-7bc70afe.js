import{K as N,b7 as X,p as Z,I as R,a1 as ee,m as ae,f as te,A as le,y as ne,z as se,g as ie,h as oe,Z as re,i as ue,a8 as ce,a5 as de,l as ve,j as fe,ag as ge,J as me,n as j,af as be,s as k,ax as $,q as V,v as ye,b as t,P as C,$ as w,aA as E,al as K,N as _e,r as pe,o as L,c as F,w as y,aC as he,a as s,d as D,S as U,T as xe,t as P,Q as S,V as T,aH as Ve,W as ke}from"./main-ae3f064a.js";import{V as Le,c as Pe,b as Se}from"./VCard-f5346038.js";import{V as Ae}from"./VTextField-29e05c88.js";import{V as W}from"./VDivider-102065b2.js";import{V as Ie}from"./VSkeletonLoader-8d57ed20.js";import{V as Ce}from"./VTable-d0171e2f.js";import{V as q}from"./VTooltip-42366f00.js";import"./VAvatar-909f8a9e.js";import"./VImg-78754a54.js";import"./index-6a933dc8.js";import"./VField-98cddd65.js";import"./forwardRefs-e658ad70.js";import"./VOverlay-19dc3ae0.js";import"./lazy-1e2c7de4.js";function we(){const e=N([]);X(()=>e.value=[]);function _(r,p){e.value[p]=r}return{refs:e,updateRef:_}}const Ne=Z({activeColor:String,start:{type:[Number,String],default:1},modelValue:{type:Number,default:e=>e.start},disabled:Boolean,length:{type:[Number,String],default:1,validator:e=>e%1===0},totalVisible:[Number,String],firstIcon:{type:R,default:"$first"},prevIcon:{type:R,default:"$prev"},nextIcon:{type:R,default:"$next"},lastIcon:{type:R,default:"$last"},ariaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.root"},pageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.page"},currentPageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.currentPage"},firstAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.first"},previousAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.previous"},nextAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.next"},lastAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.last"},ellipsis:{type:String,default:"..."},showFirstLastPage:Boolean,...ee(),...ae(),...te(),...le(),...ne(),...se(),...ie({tag:"nav"}),...oe(),...re({variant:"text"})},"VPagination"),Be=ue()({name:"VPagination",props:Ne(),emits:{"update:modelValue":e=>!0,first:e=>!0,prev:e=>!0,next:e=>!0,last:e=>!0},setup(e,_){let{slots:r,emit:p}=_;const l=ce(e,"modelValue"),{t:f,n:B}=de(),{isRtl:v}=ve(),{themeClasses:g}=fe(e),{width:x}=ge(),i=me(-1);j(void 0,{scoped:!0});const{resizeRef:G}=be(a=>{if(!a.length)return;const{target:n,contentRect:o}=a[0],d=n.querySelector(".v-pagination__list > *");if(!d)return;const m=o.width,I=d.offsetWidth+parseFloat(getComputedStyle(d).marginRight)*2;i.value=M(m,I)}),u=k(()=>parseInt(e.length,10)),c=k(()=>parseInt(e.start,10)),b=k(()=>e.totalVisible!=null?parseInt(e.totalVisible,10):i.value>=0?i.value:M(x.value,58));function M(a,n){const o=e.showFirstLastPage?5:3;return Math.max(0,Math.floor(+((a-n*o)/n).toFixed(2)))}const H=k(()=>{if(u.value<=0||isNaN(u.value)||u.value>Number.MAX_SAFE_INTEGER)return[];if(b.value<=0)return[];if(b.value===1)return[l.value];if(u.value<=b.value)return $(u.value,c.value);const a=b.value%2===0,n=a?b.value/2:Math.floor(b.value/2),o=a?n:n+1,d=u.value-n;if(o-l.value>=0)return[...$(Math.max(1,b.value-1),c.value),e.ellipsis,u.value];if(l.value-d>=(a?1:0)){const m=b.value-1,I=u.value-m+c.value;return[c.value,e.ellipsis,...$(m,I)]}else{const m=Math.max(1,b.value-3),I=m===1?l.value:l.value-Math.ceil(m/2)+c.value;return[c.value,e.ellipsis,...$(m,I),e.ellipsis,u.value]}});function A(a,n,o){a.preventDefault(),l.value=n,o&&p(o,n)}const{refs:O,updateRef:Q}=we();j({VPaginationBtn:{color:V(e,"color"),border:V(e,"border"),density:V(e,"density"),size:V(e,"size"),variant:V(e,"variant"),rounded:V(e,"rounded"),elevation:V(e,"elevation")}});const Y=k(()=>H.value.map((a,n)=>{const o=d=>Q(d,n);if(typeof a=="string")return{isActive:!1,key:`ellipsis-${n}`,page:a,props:{ref:o,ellipsis:!0,icon:!0,disabled:!0}};{const d=a===l.value;return{isActive:d,key:a,page:B(a),props:{ref:o,ellipsis:!1,icon:!0,disabled:!!e.disabled||+e.length<2,color:d?e.activeColor:e.color,"aria-current":d,"aria-label":f(d?e.currentPageAriaLabel:e.pageAriaLabel,a),onClick:m=>A(m,a)}}}})),h=k(()=>{const a=!!e.disabled||l.value<=c.value,n=!!e.disabled||l.value>=c.value+u.value-1;return{first:e.showFirstLastPage?{icon:v.value?e.lastIcon:e.firstIcon,onClick:o=>A(o,c.value,"first"),disabled:a,"aria-label":f(e.firstAriaLabel),"aria-disabled":a}:void 0,prev:{icon:v.value?e.nextIcon:e.prevIcon,onClick:o=>A(o,l.value-1,"prev"),disabled:a,"aria-label":f(e.previousAriaLabel),"aria-disabled":a},next:{icon:v.value?e.prevIcon:e.nextIcon,onClick:o=>A(o,l.value+1,"next"),disabled:n,"aria-label":f(e.nextAriaLabel),"aria-disabled":n},last:e.showFirstLastPage?{icon:v.value?e.firstIcon:e.lastIcon,onClick:o=>A(o,c.value+u.value-1,"last"),disabled:n,"aria-label":f(e.lastAriaLabel),"aria-disabled":n}:void 0}});function z(){var n;const a=l.value-c.value;(n=O.value[a])==null||n.$el.focus()}function J(a){a.key===E.left&&!e.disabled&&l.value>+e.start?(l.value=l.value-1,K(z)):a.key===E.right&&!e.disabled&&l.value<c.value+u.value-1&&(l.value=l.value+1,K(z))}return ye(()=>t(e.tag,{ref:G,class:["v-pagination",g.value,e.class],style:e.style,role:"navigation","aria-label":f(e.ariaLabel),onKeydown:J,"data-test":"v-pagination-root"},{default:()=>[t("ul",{class:"v-pagination__list"},[e.showFirstLastPage&&t("li",{key:"first",class:"v-pagination__first","data-test":"v-pagination-first"},[r.first?r.first(h.value.first):t(C,w({_as:"VPaginationBtn"},h.value.first),null)]),t("li",{key:"prev",class:"v-pagination__prev","data-test":"v-pagination-prev"},[r.prev?r.prev(h.value.prev):t(C,w({_as:"VPaginationBtn"},h.value.prev),null)]),Y.value.map((a,n)=>t("li",{key:a.key,class:["v-pagination__item",{"v-pagination__item--is-active":a.isActive}],"data-test":"v-pagination-item"},[r.item?r.item(a):t(C,w({_as:"VPaginationBtn"},a.props),{default:()=>[a.page]})])),t("li",{key:"next",class:"v-pagination__next","data-test":"v-pagination-next"},[r.next?r.next(h.value.next):t(C,w({_as:"VPaginationBtn"},h.value.next),null)]),e.showFirstLastPage&&t("li",{key:"last",class:"v-pagination__last","data-test":"v-pagination-last"},[r.last?r.last(h.value.last):t(C,w({_as:"VPaginationBtn"},h.value.last),null)])])]})),{}}}),Re={class:"d-flex justify-between w-100 mb-1 align-baseline"},$e=s("div",{class:"w-100"}," Student List ",-1),Fe=s("thead",null,[s("tr",null,[s("th",{class:"text-uppercase"}," Full Name "),s("th",null," School Name "),s("th",null," Grade "),s("th",null," Initial Assessment "),s("th",null," Quest "),s("th",null,"Action")])],-1),Te={class:"text-center"},qe={class:"text-center"},De={class:"text-center"},Me={class:"d-flex justify-center"},ze={class:"text-center"},je={class:"d-flex justify-center gap-3"},Ee={class:"text-center"},Ke={class:"d-flex justify-end mt-4"},na={__name:"student",setup(e){const _=N(1),r=N(null),p=N([]),l=N(!1),f=async()=>{l.value=!0;try{const v=_.value>1?"?page="+_.value:"?page=1",g=r.value?"&q="+r.value:"",x=await he.get("admin/get/clients"+v+g);p.value=x.data,l.value=!1}catch(v){console.error(v),l.value=!1}},B=(v,g)=>Object.values(v).filter(x=>x===g).length;return _e(()=>{f()}),(v,g)=>{const x=pe("RouterLink");return L(),F(Le,null,{default:y(()=>[t(Pe,null,{default:y(()=>[s("div",Re,[$e,t(Ae,{modelValue:r.value,"onUpdate:modelValue":[g[0]||(g[0]=i=>r.value=i),f],label:"Search","prepend-inner-icon":"mdi-magnify",density:"compact",variant:"outlined","hide-details":"","single-line":"",style:{width:"30%"}},null,8,["modelValue"])]),t(W)]),_:1}),t(Se,null,{default:y(()=>[l.value?(L(),F(Ie,{key:0,type:"table"})):D("",!0),l.value?D("",!0):(L(),F(Ce,{key:1},{default:y(()=>[Fe,s("tbody",null,[(L(!0),U(ke,null,xe(p.value.data,i=>(L(),U("tr",{key:i},[s("td",null,P(i.full_name),1),s("td",Te,P(i.school),1),s("td",qe,P(i.grade>12?"Not High School":i.grade),1),s("td",De,[s("div",Me,[s("div",null,[t(q,{activator:"parent",location:"left"},{default:y(()=>[S(P(i.filled_ia==1?"Completed":"Not Yet"),1)]),_:2},1024),t(T,{icon:i.filled_ia==1?"bx-message-square-check":"bx-x",style:Ve(i.filled_ia==1?"color:green":"color:red")},null,8,["icon","style"])])])]),s("td",ze,[s("div",je,[s("div",null,[t(q,{activator:"parent",location:"left"},{default:y(()=>[S(" Success ")]),_:1}),t(T,{icon:"bx-message-square-check",color:"success"}),S(" "+P(B(i.quest,!0)),1)]),s("div",null,[t(q,{color:"success",activator:"parent",location:"right"},{default:y(()=>[S(" Not Yet ")]),_:1}),t(T,{icon:"bx-message-square-x",style:{color:"red"}}),S(" "+P(B(i.quest,!1)),1)])])]),s("td",Ee,[t(x,{to:{name:"student-detail",params:{id:i.uuid}}},{default:y(()=>[t(q,{color:"success",activator:"parent",location:"start"},{default:y(()=>[S(" View Detail ")]),_:1}),t(T,{icon:"bx-user-pin"})]),_:2},1032,["to"])])]))),128))])]),_:1})),t(W),s("div",Ke,[p.value.last_page>0?(L(),F(Be,{key:0,modelValue:_.value,"onUpdate:modelValue":[g[1]||(g[1]=i=>_.value=i),f],"total-visible":7,length:p.value.last_page},null,8,["modelValue","length"])):D("",!0)])]),_:1})]),_:1})}}};export{na as default};
