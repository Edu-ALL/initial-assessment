import{p as D,a5 as E,k as R,a7 as j,aA as M,c as S,x as $,aB as J,d as a,W as b,L as c,a4 as W,aJ as V,aI as O,o as Q,Q as q,w as i,e as s,al as z,b as d,N as G,O as H,am as K}from"./main-4d564748.js";import{_ as X}from"./eduall-62475736.js";import{s as v}from"./notification-17c9d469.js";import{r as _}from"./rules-702c3d4a.js";import{V as Y,b as x}from"./VCard-1e450f0f.js";import{V as Z}from"./VForm-cd558918.js";import{V as ee,a as h}from"./VRow-116bad1f.js";import{a as ae,b as k,V as w}from"./VTextField-e6b0686b.js";import{m as se,V as y}from"./VCheckboxBtn-f3a3413c.js";import{a as te}from"./VField-20941e88.js";import"./_commonjsHelpers-725317a4.js";import"./VAvatar-3488a1fc.js";import"./VImg-daf37cfd.js";/* empty css              */import"./index-62bac941.js";const oe=D({...ae(),...E(se(),["inline"])},"VCheckbox"),le=R()({name:"VCheckbox",inheritAttrs:!1,props:oe(),emits:{"update:modelValue":o=>!0,"update:focused":o=>!0},setup(o,u){let{attrs:t,slots:n}=u;const l=j(o,"modelValue"),{isFocused:p,focus:m,blur:e}=te(o),r=M(),g=S(()=>o.id||`checkbox-${r}`);return $(()=>{const[C,P]=J(t),A=k.filterProps(o),B=y.filterProps(o);return a(k,b({class:["v-checkbox",o.class]},C,A,{modelValue:l.value,"onUpdate:modelValue":f=>l.value=f,id:g.value,focused:p.value,style:o.style}),{...n,default:f=>{let{id:L,messagesId:F,isDisabled:I,isReadonly:T,isValid:U}=f;return a(y,b(B,{id:L.value,"aria-describedby":F.value,disabled:I.value,readonly:T.value},P,{error:U.value===!1,modelValue:l.value,"onUpdate:modelValue":N=>l.value=N,onFocus:m,onBlur:e}),n)}})}),{}}});const re={class:"auth-wrapper d-flex align-center justify-center pa-4"},ie=d("div",{class:"d-flex justify-center mb-10 mt-5"},[d("img",{src:X,alt:"EduALL"})],-1),ne=d("h5",{class:"text-h5 mb-7 text-center"}," Welcome to EduALL Assessment Dashboard! 👋🏻 ",-1),de=d("p",{class:"mb-0"}," Please sign-in ",-1),ue={class:"d-flex align-center justify-space-between flex-wrap mt-1 mb-4"},Pe={__name:"login",setup(o){const u=c(),t=c({email:"",password:"",remember:!1}),n=c(!1),l=c(!1),p=async()=>{const{valid:m}=await u.value.validate();if(m){l.value=!0;try{const e=await K.post("admin/signin",t.value);e.success?(V.saveToken(e.data.token),setTimeout(()=>{window.location.reload()},1e3)):(t.value.email="",t.value.password="",v("error",e.message,"bottom-end")),l.value=!1}catch(e){v("error",e,"bottom-end"),l.value=!1}}};return W(()=>{V.getToken()&&O.push({name:"admin-dashboard"})}),(m,e)=>(Q(),q("div",re,[a(Y,{class:"auth-card pa-4 pt-7","max-width":"448"},{default:i(()=>[ie,a(x,{class:"pt-2"},{default:i(()=>[ne,de]),_:1}),a(x,null,{default:i(()=>[a(Z,{ref_key:"formData",ref:u,"validate-on":"input","fast-fail":"",disabled:s(l),onSubmit:z(p,["prevent"])},{default:i(()=>[a(ee,null,{default:i(()=>[a(h,{cols:"12"},{default:i(()=>[a(w,{modelValue:s(t).email,"onUpdate:modelValue":e[0]||(e[0]=r=>s(t).email=r),autofocus:"",label:"Email",type:"email",rules:s(_).email},null,8,["modelValue","rules"])]),_:1}),a(h,{cols:"12"},{default:i(()=>[a(w,{modelValue:s(t).password,"onUpdate:modelValue":e[1]||(e[1]=r=>s(t).password=r),label:"Password",placeholder:"············",type:s(n)?"text":"password","append-inner-icon":s(n)?"bx-hide":"bx-show",rules:s(_).minLength_8,"onClick:appendInner":e[2]||(e[2]=r=>n.value=!s(n))},null,8,["modelValue","type","append-inner-icon","rules"]),d("div",ue,[a(le,{modelValue:s(t).remember,"onUpdate:modelValue":e[3]||(e[3]=r=>s(t).remember=r),label:"Remember me"},null,8,["modelValue"])]),a(G,{block:"",type:"submit"},{default:i(()=>[H(" Login ")]),_:1})]),_:1})]),_:1})]),_:1},8,["disabled"])]),_:1})]),_:1})]))}};export{Pe as default};
