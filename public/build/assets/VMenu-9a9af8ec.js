import{m as K,u as L,a as P,V as A}from"./VOverlay-aa926e3d.js";import{a as x,d as B,s as C,b as I,g as q,n as U,f as j}from"./forwardRefs-e658ad70.js";import{i as F,b as E,Z as V,b0 as T,p as O,ao as R,a6 as J,aJ as N,s as D,K as X,ay as Y,J as H,ax as Q,b1 as W,L as Z,v as z,F as G,aj as _,b2 as M,b3 as ee,aQ as S}from"./main-40830228.js";const te=O({target:[Object,Array]},"v-dialog-transition"),ne=F()({name:"VDialogTransition",props:te(),setup(i,m){let{slots:t}=m;const s={onBeforeEnter(n){n.style.pointerEvents="none",n.style.visibility="hidden"},async onEnter(n,p){var v;await new Promise(l=>requestAnimationFrame(l)),await new Promise(l=>requestAnimationFrame(l)),n.style.visibility="";const{x:u,y:o,sx:a,sy:d,speed:f}=k(i.target,n),y=x(n,[{transform:`translate(${u}px, ${o}px) scale(${a}, ${d})`,opacity:0},{}],{duration:225*f,easing:B});(v=$(n))==null||v.forEach(l=>{x(l,[{opacity:0},{opacity:0,offset:.33},{}],{duration:225*2*f,easing:C})}),y.finished.then(()=>p())},onAfterEnter(n){n.style.removeProperty("pointer-events")},onBeforeLeave(n){n.style.pointerEvents="none"},async onLeave(n,p){var v;await new Promise(l=>requestAnimationFrame(l));const{x:u,y:o,sx:a,sy:d,speed:f}=k(i.target,n);x(n,[{},{transform:`translate(${u}px, ${o}px) scale(${a}, ${d})`,opacity:0}],{duration:125*f,easing:I}).finished.then(()=>p()),(v=$(n))==null||v.forEach(l=>{x(l,[{},{opacity:0,offset:.2},{opacity:0}],{duration:125*2*f,easing:C})})},onAfterLeave(n){n.style.removeProperty("pointer-events")}};return()=>i.target?E(T,V({name:"dialog-transition"},s,{css:!1}),t):E(T,{name:"dialog-transition"},t)}});function $(i){var t;const m=(t=i.querySelector(":scope > .v-card, :scope > .v-sheet, :scope > .v-list"))==null?void 0:t.children;return m&&[...m]}function k(i,m){const t=q(i),s=U(m),[n,p]=getComputedStyle(m).transformOrigin.split(" ").map(c=>parseFloat(c)),[u,o]=getComputedStyle(m).getPropertyValue("--v-overlay-anchor-origin").split(" ");let a=t.left+t.width/2;u==="left"||o==="left"?a-=t.width/2:(u==="right"||o==="right")&&(a+=t.width/2);let d=t.top+t.height/2;u==="top"||o==="top"?d-=t.height/2:(u==="bottom"||o==="bottom")&&(d+=t.height/2);const f=t.width/s.width,y=t.height/s.height,v=Math.max(1,f,y),l=f/v||0,b=y/v||0,e=s.width*s.height/(window.innerWidth*window.innerHeight),r=e>.12?Math.min(1.5,(e-.12)*10+1):1;return{x:a-(n+s.left),y:d-(p+s.top),sx:l,sy:b,speed:r}}const oe=O({id:String,...R(K({closeDelay:250,closeOnContentClick:!0,locationStrategy:"connected",openDelay:300,scrim:!1,scrollStrategy:"reposition",transition:{component:ne}}),["absolute"])},"VMenu"),le=F()({name:"VMenu",props:oe(),emits:{"update:modelValue":i=>!0},setup(i,m){let{slots:t}=m;const s=J(i,"modelValue"),{scopeId:n}=L(),p=N(),u=D(()=>i.id||`v-menu-${p}`),o=X(),a=Y(P,null),d=H(0);Q(P,{register(){++d.value},unregister(){--d.value},closeParents(e){setTimeout(()=>{!d.value&&(e==null||e&&!W(e,o.value.contentEl))&&(s.value=!1,a==null||a.closeParents())},40)}});async function f(e){var g,h,w;const r=e.relatedTarget,c=e.target;await _(),s.value&&r!==c&&((g=o.value)!=null&&g.contentEl)&&((h=o.value)!=null&&h.globalTop)&&![document,o.value.contentEl].includes(c)&&!o.value.contentEl.contains(c)&&((w=M(o.value.contentEl)[0])==null||w.focus())}Z(s,e=>{e?(a==null||a.register(),document.addEventListener("focusin",f,{once:!0})):(a==null||a.unregister(),document.removeEventListener("focusin",f))});function y(e){a==null||a.closeParents(e)}function v(e){var r,c,g;i.disabled||e.key==="Tab"&&(ee(M((r=o.value)==null?void 0:r.contentEl,!1),e.shiftKey?"prev":"next",w=>w.tabIndex>=0)||(s.value=!1,(g=(c=o.value)==null?void 0:c.activatorEl)==null||g.focus()))}function l(e){var c;if(i.disabled)return;const r=(c=o.value)==null?void 0:c.contentEl;r&&s.value?e.key==="ArrowDown"?(e.preventDefault(),S(r,"next")):e.key==="ArrowUp"&&(e.preventDefault(),S(r,"prev")):["ArrowDown","ArrowUp"].includes(e.key)&&(s.value=!0,e.preventDefault(),setTimeout(()=>setTimeout(()=>l(e))))}const b=D(()=>V({"aria-haspopup":"menu","aria-expanded":String(s.value),"aria-owns":u.value,onKeydown:l},i.activatorProps));return z(()=>{const e=A.filterProps(i);return E(A,V({ref:o,id:u.value,class:["v-menu",i.class],style:i.style},e,{modelValue:s.value,"onUpdate:modelValue":r=>s.value=r,absolute:!0,activatorProps:b.value,"onClick:outside":y,onKeydown:v},n),{activator:t.activator,default:function(){for(var r=arguments.length,c=new Array(r),g=0;g<r;g++)c[g]=arguments[g];return E(G,{root:"VMenu"},{default:()=>{var h;return[(h=t.default)==null?void 0:h.call(t,...c)]}})}})}),j({id:u,Î¨openChildren:d},o)}});export{ne as V,le as a};
